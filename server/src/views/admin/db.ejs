<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/head'); %>
  </head>
  <body class="container">
    <header><%- include('./partials/header'); %></header>

    <main class="container">
      <h1>Database</h1>
      <div>
        <% [
          { name: "Clubs", path: "/clubs", variant: "primary" },
          { name: "Teams", path: "/teams", variant: "danger" },
          { name: "Seasons", path: "/seasons", variant: "success" },
          // { name: "SeasonTeams", path: "/seasonTeams", variant: "warning" },
          { name: "Members", path: "/members", variant: "light" },
          { name: "Choreos", path: "/choreos", variant: "info" },
        ].forEach(entity => { %>
        <a role="button" href="/admin/db<%= entity.path %>" class="btn btn-<%= path.endsWith(entity.path) ? "" : "outline-" %><%= entity.variant || "primary"%> btn-sm">
          <%= entity.name %>
        </a>
        <% }) %>

        <% if (locals.columns && locals.data) { %>
          <table class="table table-striped table-hover">
            <thead>
              <tr >
                <% columns.forEach(column => { %>
                  <th style="text-transform: capitalize;" scope="col"><%= column %></th>
                  <% }); %>
                <th scope="col">Created At</th>
                <th scope="col">Updated At</th>
            </tr>
            </thead>
            <tbody class="table-group-divider">
              <% data.forEach((datum) => { %>
                <tr data-bs-toggle="popover" data-bs-title="ID: <%= datum.id %>" data-bs-content="UserId: <%= datum.UserId %>">
                  <% columns.forEach(column => { %>
                    <td scope="col"><%= datum[column] %></td>
                  <% }); %>
                  <td><%= new Date(datum.createdAt).toLocaleString("en-EN") %></td>
                  <td><%= new Date(datum.updatedAt).toLocaleString("en-EN") %></td>
                </tr>
              <% }) %>
        </tbody>
        <tfoot class="table-group-divider">
          <tr>
            <% columns.forEach(column => { %>
              <td style="text-transform: capitalize;" scope="col"><%= column %></td>
              <% }); %>
              <td scope="col">Created At</td>
              <td scope="col">Updated At</td>
          </tr>
        </tfoot>
      </table>
      <% } %>
      </div>
      </main>
      
      <footer><%- include('./partials/footer'); %></footer>
      </body>
      </html>
      